<link rel="import" href="../bower_components/polymer/polymer.html">

<dom-module id="home-page">
<template>
  <style>
  paper-material{
    background-color: white;
    border-radius: 2px;
    display: flex;
    flex: 100%;
    min-width: 220px;
    margin: 10px;
    align-self: center;
  }
  paper-material > .post{
    padding:10px;
    min-height: 70px;
  }
  .postImage{
    height:auto;
    width: 150px;
    min-width: 150px;
    min-height: 150px;
  }
  #intro{
    padding:20px;
    font-size: 16px;
  }

  @media screen and (max-width: 920px) {
    paper-material{
      -webkit-flex-wrap: wrap;-ms-flex-wrap: wrap;flex-wrap: wrap;
      height:auto;
    }
    paper-material .postImage, paper-material iron-image{
      width: 100% !important;
      height:150px;
    }

  }
  @media screen and (min-width:1200px) {

  }
  </style>
  <paper-material class="grid-item" elevation="1">
    <iron-image class="postImage" id="smallHeader" src="" preload fade style="background-color: #5a7785;" sizing="cover"></iron-image>
    <div id="intro">
      Welcome to my blog, ironically named "Legacy Support" because this site doesn't support legacy browsers.
      I recently graduated with my degree in computer science and now I work as a web developer in Madison, Wisconsin.
      My experiences with the web and Android development are my inspiration for writing here.
    </div>
  </paper-material>

  <template is="dom-repeat" items="{{posts.posts}}">
    <blog-post id="{{item.url}}" url="{{url}}" post="{{item}}" target="{{target}}" ></blog-post>
  </template>
</template>
<script>
  (function(){
    Polymer({
      is:'home-page',
      behaviors: [
        Polymer.NeonSharedElementAnimatableBehavior,
        Polymer.NeonAnimationRunnerBehavior,
        Polymer.NeonAnimatableBehavior
      ],
      properties:{
        posts: Object,
        target: {
          type: Object,
          notify: true
        },
        url:{
          type: String,
          notify: true,
          observer: '_changed'
        },
        page: {
          type:String,
          value:""
        },
        animationConfig: {
          value: function() {
            return {
              'entry': [{
                name:"fade-in-animation",
                node:this,
                timing:{
                  duration:400
                }
              },{
                name:"hero-banner-animation",
                id:"hero",
                toPage:this,
                timing: {
                  easing: "cubic-bezier(.55,1.04,.55,1.04)",
                  delay: 100,
                  duration: 400
                }
              }],
              'exit': [{
                name: 'fade-out-animation',
                node: this,
                timing:{
                  duration:400
                }
              },{
                name:"hero-banner-animation",
                id:"hero",
                fromPage:this,
                timing: {
                  easing: "cubic-bezier(.55,1.04,.55,1.04)",
                  delay: 100,
                  duration: 400
                }
              }]
            }
          }
        },
        sharedElements: {
          value: function() {
            return {
              'hero': this.$.smallHeader,
            }
          }
        }
      },
      listeners: {
        'neon-animation-finish': '_onNeonAnimationFinish'
      },
      _changed: function (newValue, oldValue) {
        this.sharedElements = {
          'hero': target
        };
      },
      _onNeonAnimationFinish: function() {
        console.log("end animate");
      },
      show: function() {
        this.playAnimation('entry');
      },
      hide: function() {
        this.playAnimation('exit');
      },
      ready: function() {

      }
    });
  })();
</script>
</dom-module>
