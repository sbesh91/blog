<link rel="import" href="../../bower_components/polymer/polymer.html">
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>
<dom-module id="blog-flex">
<template>
  <style>
    #share{
      position: absolute;
      margin-top: 10px;
      right:10px;
    }
    iframe{
      border: none;
    }
  </style>
  <style is="custom-style" include="shared-styles"></style>
  <blog-view>
    <paper-material class="article" elevation="1">
      <iron-image id="largeHeader" src="{{post.image}}" style$="height:250px; width:100%;background-color:{{post.primaryColor}}" preload sizing="cover"></iron-image>

      <div id="share">
        <a href="https://twitter.com/share" class="twitter-share-button" data-text="Let's talk about flexbox" data-via="sbesh91" data-hashtags="flexbox">Tweet</a>
      </div>

      <div class="body">
        <h2>{{post.title}}</h2>
        <div class="title">
          {{post.date}}
        </div>
        <p>
          &nbsp;&nbsp;&nbsp;&nbsp;Along with the CSS 3 announcement came a technology referred to as "Flexible Boxes".  There are a myriad of solutions to the layout problem already, so why exactly do we need "Flexible Boxes"?  The issue of laying out a web page can be solved through tables, inline-blocks, and, the recently popular, floats.  If any of these methods worked perfectly there likely wouldn't be a great reason for any additions to the CSS 3 layout spec, but as Flexible Boxes were added to the completed CSS 3 spec it seems as though there were enough problems with each of these other methods.
        </p>
        <p>
          &nbsp;&nbsp;&nbsp;&nbsp;A long time ago in a distant development world far away we used tables as our sole solution for layout and data display.  While tables are still used for data display, they are not the pragmatic choice for today's web.  Tables resize very poorly for our mobile devices and they can not flow columns to the next row in a responsive manor.
        </p>
        <p>
          &nbsp;&nbsp;&nbsp;&nbsp;Inline-block and floating are some great solutions for making a responsive grid.  Neither of them are without their flaws though.  Inline-blocks seemed extremely promising to me as a young programmer, but I shortly learned that one of the best reasons to never use an inline-block is that white space between inline-block elements will ruin any percentage width precision.  Yes you could align all of your inline-blocks to open and close with no white space between the opening and closing tags, however this becomes extremely maddening to a developer who likes well formatted HTML.  Floats too were extremely promising but there were similar issues that I ran into with them.  Floats can be very finicky when it comes to setting widths.  At times you'll need to have a bit of negative margin and then padding to account for that negative margin.  All in all, I just did not want to make my layout deal with hacks just to show content.
        </p>
        <p>
          &nbsp;&nbsp;&nbsp;&nbsp;Flexbox aimed to solve all of these problems that programmers had with their prior layout solutions.  One of the main attractions here is that the width property has some help tightening up grid columns.  The new attribute called flex can be set to 40 percent for two columns and they will grow to match 50 percent for each column set to allow flex-grow.  Beyond setting up a grid easily flexbox also helps to solve the problem of positioning elements inside these grid items.  Vertical aligning using floats or inline-blocks felt almost futile at times.  Vertical aligning with flexbox you ask?  It couldn't be easier.  Aligning a sticky footer no longer has to involve hacks either.  Flexbox is certainly not without it's faults though.  Browser support for flexbox was a problem when the spec was added to css3.  Over the years flexbox has gone through multiple revisions of syntax, and browser support has not always been the best.  The good thing about each of those statements is that the layout engine continues to work the same while having different syntax.  An autoprefixer solves this problem very easily.  Flexbox isn't the brand new standard that we all should be scared of.  With support stretching back to IE 10 flexbox can be used in production at most companies.
        </p>
        <p>
          <template is="dom-if" if="{{_equal(page,'/flex')}}">
          A simple symmetrical two column layout would look something like this.
          <!-- <iframe src="https://embed.plnkr.co/lpBOzbC5anO4jb1FrFIm/" width="100%" height="300"></iframe> -->
          <a href="https://embed.plnkr.co/lpBOzbC5anO4jb1FrFIm/" target="_blank">Demo</a>
          <p class="note">
            You'll note that instead of using explicit widths we give our child elements a flex percentage.
          </p>

          A simple responsive grid would be set up like this.
          <!-- <iframe src="https://embed.plnkr.co/VXtxIaKUaFhIFcZIEnyV/" width="100%" height="300"></iframe> -->
          <a href="https://embed.plnkr.co/VXtxIaKUaFhIFcZIEnyV/" target="_blank">Demo</a>
          <p class="note">
            Resizing the above window will show the responsive nature of a flex grid.  Once there is no longer enough width in 33.3% to hold three elements of at least 150px in width one of them will flow below the other two and they will all grow to fill the grid space available.
            The property flex-wrap:wrap; is what allows grid items to flow below another grid item.
          </p>

          Flex grow and flex shrink can be extremely helpful when trying to use space effectively in a grid.
          <!-- <iframe src="https://embed.plnkr.co/qwWGI35COQ2fq8INfezr/" width="100%" height="300"></iframe> -->
          <a href="https://embed.plnkr.co/qwWGI35COQ2fq8INfezr/"Â target="_blank">Demo</a>
          <p class="note">
            The flex-grow and flex-shrink properties work so that your elements will grow if they have a higher precedence than the other elements around it.  The precedence scale says that 1 is given the highest precedence.
          </p>

          Flex even helps us order our elements on the fly when we need to move items in a responsive context.
          <!-- <iframe src="https://embed.plnkr.co/9sv1XyaeTr0I2mo3LMgg/" width="100%" height="300"></iframe> -->
          <a href="https://embed.plnkr.co/9sv1XyaeTr0I2mo3LMgg/" target="_blank">Demo</a>
          <p class="note">
            Ordering can be extremely useful if you would like your nav to be on the right in your desktop view, but it should come from the left when you respond to a mobile view.
          </p>

          My personal favorite thing about flexbox is just how simple it makes aligning content on your page.  Vertically centering has always been an obnoxious problem to solve, and now it becomes extremely easy.
          <!-- <iframe src="https://embed.plnkr.co/mUbBq3dIkhbd3AkHE4Ey/" width="100%" height="300"></iframe> -->
          <a href="https://embed.plnkr.co/mUbBq3dIkhbd3AkHE4Ey/" target="_blank">Demo</a>

          Centering is a big problem to solve, but flex can handle layouts better than just centering.  By using align-items, justify-content, and align-content you can also align left/top(flex-start) or right/bottom(flex-end).
          <!-- <iframe src="https://embed.plnkr.co/FIhf9HevguJgJ1eeBpcZ/" width="100%" height="300"></iframe> -->
          <a href="https://embed.plnkr.co/FIhf9HevguJgJ1eeBpcZ/" target="_blank">Demo</a>

          The last set of things you can pass your alignment properties are space-between and space-around.  Space-between will push each of the child elements in your parent as far away from each other as possible.  Space-around will place equal space around each of the child elements in your parent.
          <!-- <iframe src="https://embed.plnkr.co/7coeXL3I0pUSpMJE5eLW/" width="100%" height="300"></iframe>
          <iframe src="https://embed.plnkr.co/Jtwt588L6CeF4Fj9gsUN/" width="100%" height="300"></iframe> -->
          <a href="https://embed.plnkr.co/7coeXL3I0pUSpMJE5eLW/" target="_blank">Demo 1</a>
          <a href="https://embed.plnkr.co/Jtwt588L6CeF4Fj9gsUN/" target="_blank">Demo 2</a>
          <p class="note">
            With each of these layout properties I've had a hard time coming up with a layout that can't be solved with flex box.  If you have any questions please feel free to tweet <a target="_blank" href="http://www.twitter.com/sbesh91">sbesh91</a> and I'll try to help as I can to help you comprehend the wonders of flexbox.
          </p>
        </template>
        </p>
      </div>
    </paper-material>
  </blog-view>
</template>
<script>
  (function(){
    Polymer({
      is:'blog-flex',
      behaviors: [
        Polymer.NeonSharedElementAnimatableBehavior,
        Polymer.NeonAnimationRunnerBehavior,
        Polymer.NeonAnimatableBehavior
      ],
      properties:{
        post: Object,
        page: String,
        animationConfig: {
          value: function() {
            return {
              'entry': [{
                name:"fade-in-animation",
                node:this,
                timing:{
                  duration:400
                }
              },{
                name:"hero-banner-animation",
                id:"hero",
                toPage:this,
                timing: {
                  easing: "cubic-bezier(.55,1.04,.55,1.04)",
                  delay: 100,
                  duration: 400
                }
              }],
              'exit': [{
                name: 'fade-out-animation',
                node: this,
                timing:{
                  duration:400
                }
              },{
                name:"hero-banner-animation",
                id:"hero",
                fromPage:this,
                timing: {
                  easing: "cubic-bezier(.55,1.04,.55,1.04)",
                  delay: 100,
                  duration: 400
                }
              }]
            }
          }
        },
        sharedElements: {
          value: function() {
            return {
              'hero': this.$.largeHeader,
            }
          }
        }
      },
      listeners: {
        'neon-animation-finish': '_onNeonAnimationFinish',
      },
      _equal: function(value1, value2) {
        return value1 === value2;
      },
      _onNeonAnimationFinish: function() {
        console.log("end animate");
      },
      show: function() {
        this.playAnimation('entry');
      },
      hide: function() {
        this.playAnimation('exit');
      },
      ready: function() {

      }
    });
  })();
</script>
</dom-module>
